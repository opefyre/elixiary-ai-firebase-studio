/* Mobile PWA Fixes - iOS Safe Area and Viewport Handling */

/* iOS Safe Area Support */
@supports (padding: max(0px)) {
  .ios-safe-area-top {
    padding-top: max(env(safe-area-inset-top), 0px);
  }
  
  .ios-safe-area-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 0px);
  }
  
  .ios-safe-area-left {
    padding-left: max(env(safe-area-inset-left), 0px);
  }
  
  .ios-safe-area-right {
    padding-right: max(env(safe-area-inset-right), 0px);
  }
}

/* Fix for iOS PWA navbar positioning */
@media screen and (max-width: 768px) {
  /* Ensure the navbar is always at the very top on mobile */
  .mobile-navbar-fix {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 50;
    /* Add safe area padding for iOS */
    padding-top: env(safe-area-inset-top, 0px);
  }
  
  /* Add padding to body to account for fixed navbar */
  .mobile-body-padding {
    padding-top: calc(4rem + env(safe-area-inset-top, 0px));
  }
  
  /* Fix for content appearing above navbar when scrolling */
  .mobile-content-container {
    position: relative;
    z-index: 1;
  }
}

/* iOS PWA specific fixes */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari specific styles */
  .ios-pwa-fix {
    /* Prevent content from appearing behind status bar */
    padding-top: env(safe-area-inset-top, 0px);
  }
  
  /* Fix for iOS viewport height issues */
  .ios-viewport-fix {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  
  /* Fix for iOS scroll bounce */
  .ios-scroll-fix {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }
}

/* Android PWA fixes */
@media screen and (max-width: 768px) and (min-resolution: 2dppx) {
  .android-pwa-fix {
    /* Android specific PWA fixes */
    -webkit-tap-highlight-color: transparent;
  }
}

/* General mobile PWA improvements */
@media screen and (max-width: 768px) {
  /* Prevent zoom on input focus */
  input, textarea, select {
    font-size: 16px;
  }
  
  /* Improve touch targets */
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Fix for mobile viewport units */
  .mobile-vh-fix {
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
  }
}
